# ~/.tmux.conf
# Themed with Catppuccin Mocha

# --- Catppuccin Mocha Color Palette ---
cat_rosewater="#f5e0dc"
cat_flamingo="#f2cdcd"
cat_pink="#f5c2e7"
cat_mauve="#cba6f7"
cat_red="#f38ba8"
cat_maroon="#eba0ac"
cat_peach="#fab387"
cat_yellow="#f9e2af"
cat_green="#a6e3a1"
cat_teal="#94e2d5"
cat_sky="#89dceb"
cat_sapphire="#74c7ec"
cat_blue="#89b4fa"
cat_lavender="#b4befe"
cat_text="#cdd6f4"
cat_subtext1="#bac2de"
cat_subtext0="#a6adc8"
cat_overlay2="#9399b2"
cat_overlay1="#7f849c"
cat_overlay0="#6c7086"
cat_surface2="#585b70"
cat_surface1="#45475a"
cat_surface0="#313244"
cat_base="#1e1e2e"
cat_mantle="#181825"
cat_crust="#11111b"

# --- Basic Settings ---

# Set prefix to Ctrl+a (more ergonomic than Ctrl+b)
# unbind C-b
# set-option -g prefix C-a
# bind-key C-a send-prefix

# Set vi mode keys
set -g mode-keys vi

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Increase history limit
set-option -g history-limit 10000

# Start window/pane numbering from 1 (instead of 0)
set-option -g base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on # Renumber windows when one is closed

# Enable mouse mode (tmux > 2.1)
set-option -g mouse on

# Set terminal colors (important for themes)
# Use this if your terminal supports it, otherwise try "screen-256color"
set-option -g default-terminal "tmux-256color"
set-option -a terminal-features 'alacritty:RGB'
set-option -sa terminal-overrides ",*256col*:Tc" # True Color support

# Improve responsiveness
set-option -sg escape-time 10
set-option -g focus-events on

# --- Status Bar (Catppuccin Mocha) ---

# Position status bar on top
set-option -g status-position top

# Basic status bar style
# ${cat_text} on ${cat_surface0} (main status bar bg)
set-option -g status-style "fg=${cat_text},bg=${cat_surface0}"

# Left side: Session name
# ${cat_green} on ${cat_base} (darker segment bg)
set-option -g status-left-length 100
set-option -g status-left "#[fg=${cat_green},bg=${cat_base},bold]  #S #[default]"

# Right side: Hostname, Date, Time
set-option -g status-right-length 100
set-option -g status-right "#[fg=${cat_blue},bg=${cat_base},bold] 󰋠 #h #[default] #[fg=${cat_yellow},bg=${cat_surface0}] 󰃭 %Y-%m-%d #[default] #[fg=${cat_text},bg=${cat_surface0},bold]  %H:%M #[default]"

# Center the window list
set-option -g status-justify left

# Window status style (inactive tabs)
# ${cat_subtext0} (dim) on ${cat_surface0} (status bar bg)
set-window-option -g window-status-style "fg=${cat_subtext0},bg=${cat_surface0}"
set-window-option -g window-status-format " #I: #W " # Window Index: Window Name

# Active window status style (active tab)
# ${cat_text} on ${cat_surface1} (highlight bg)
set-window-option -g window-status-current-style "fg=${cat_text},bg=${cat_surface1},bold"
set-window-option -g window-status-current-format " #I: #W#{?window_flags,#{window_flags},} " # Add flags like * or !

# Separator between windows in the status bar (optional, keep it minimal)
set-window-option -g window-status-separator ""

# --- Panes ---

# Pane border style
# ${cat_subtext0} (dim) borders
set-option -g pane-border-style "fg=${cat_subtext0}"
# ${cat_blue} (accent) active border
set-option -g pane-active-border-style "fg=${cat_blue}"

# --- Messages ---

# Message style (command line)
# ${cat_text} on ${cat_base}
set-option -g message-style "fg=${cat_text},bg=${cat_base}"

# --- Keybindings ---

# Reload config file easily (fixed path to match file name)
bind r source-file ~/.tmux.conf \; display-message "Tmux config reloaded!"
