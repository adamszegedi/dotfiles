# ~/.tmux.conf

# Set vi mode keys
set -g mode-keys vi

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Increase history limit
set-option -g history-limit 10000

# Start window/pane numbering from 1 (instead of 0)
set-option -g renumber-windows on # Renumber windows when one is closed

# Enable mouse mode (tmux > 2.1)
set-option -g mouse on

# Set Position
set-option -g status-position top

# Set terminal colors (important for themes)
# Use this if your terminal supports it, otherwise try "screen-256color"
# 1. Tell tmux to use 256-color internally
set-option -g default-terminal "tmux-256color"

# 2. Enable True Color (RGB) support
# This uses the modern 'terminal-features' syntax (tmux 3.2+)
# Ghostty usually sets TERM to "xterm-ghostty"
set-option -a terminal-features 'xterm-ghostty:RGB'

# 3. Fallback for standard xterm (just in case)
set-option -a terminal-features 'xterm-256color:RGB'

# -----------------------------------------------------------------------------
# GLOBAL STATUS BAR SETTINGS
# -----------------------------------------------------------------------------
set-option -g status-interval 1

# MOVE THE LIST TO THE LEFT
set-option -g status-justify left

# -----------------------------------------------------------------------------
# KANAGAWA WAVE COLORS
# -----------------------------------------------------------------------------
set-option -g status-style bg='#1F1F28',fg='#DCD7BA'

# -----------------------------------------------------------------------------
# LEFT SIDE (Session Name)
# -----------------------------------------------------------------------------
set-option -g status-left-length 40
# Session name in Crystal Blue (#7E9CD8) with a divider
set-option -g status-left "#[fg=#7E9CD8,bold] ï’‰ #S #[fg=#727169] | "

# -----------------------------------------------------------------------------
# RIGHT SIDE (User @ Host)
# -----------------------------------------------------------------------------
set-option -g status-right-length 60

# Logic:
# 1. Prefix Indicator (Wait)
# 2. User (Spring Green)
# 3. @ symbol (Muted)
# 4. Hostname (Crystal Blue)
set-option -g status-right "#{?client_prefix,#[fg=#FF9E3B] [WAIT] , }#[fg=#98BB6C] #(whoami)#[fg=#727169] @ #[fg=#7E9CD8]#H "

# -----------------------------------------------------------------------------
# WINDOW STATUS (The List on the Left)
# -----------------------------------------------------------------------------

# Inactive windows: "2 vim" (dimmed, no brackets)
set-window-option -g window-status-format "#[fg=#727169] #I #W "

# Active window: "[1 zsh]" (Old White, bold, wrapped in brackets)
set-window-option -g window-status-current-format "#[fg=#C8C093,bold] [#I #W] "

# -----------------------------------------------------------------------------
# PANE BORDERS (Highlighting the actual split panes)
# -----------------------------------------------------------------------------
# Inactive pane borders (Dark Grey)
set-option -g pane-border-style fg='#727169'

# Active pane border (Ronin Yellow - matches the Wait indicator)
set-option -g pane-active-border-style fg='#FF9E3B'

# --- Keybindings ---
# Reload config file easily (fixed path to match file name)
bind r source-file ~/.config/tmux/tmux.conf \; display-message "Tmux config reloaded!"
